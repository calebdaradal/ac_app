create table public.userinvestmentvehicle (
  id bigint generated by default as identity not null,
  user_uid character varying not null,
  vehicle_id bigint null,
  registered_at date not null,
  total_contrib double precision not null,
  current_balance double precision null,
  created_at timestamp with time zone null default now(),
  constraint userInvestmentVehicle_pkey primary key (id),
  constraint userInvestmentVehicle_user_uid_fkey foreign KEY (user_uid) references profiles (id),
  constraint userInvestmentVehicle_vehicle_id_fkey foreign KEY (vehicle_id) references investmentvehicles (id)
) TABLESPACE pg_default;

create table public.usertransactions (
  id bigint generated by default as identity not null,
  user_uid character varying not null,
  transaction_id bigint null,
  status text null,
  amount double precision null,
  bank_detail integer null,
  applied_at date not null,
  vehicle_id bigint null,
  ref_number bigint null,
  created_at timestamp with time zone null default now(),
  constraint usertransactions_pkey primary key (id),
  constraint usertransactions_bank_detail_fkey foreign KEY (bank_detail) references bankdetails (id),
  constraint usertransactions_transaction_id_fkey foreign KEY (transaction_id) references transactions (id),
  constraint usertransactions_user_uid_fkey foreign KEY (user_uid) references profiles (id),
  constraint usertransactions_vehicle_id_fkey foreign KEY (vehicle_id) references investmentvehicles (id)
) TABLESPACE pg_default;

create table public.profiles (
  id character varying not null,
  first_name text null,
  last_name text null,
  avatar_url text null,
  created_at timestamp with time zone not null default now(),
  updated_at timestamp with time zone not null default now(),
  is_admin boolean null,
  email character varying not null,
  pin character varying null,
  constraint profiles_pkey primary key (id),
  constraint profiles_email_key unique (email),
  constraint profiles_first_name_key unique (first_name)
) TABLESPACE pg_default;